<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å€™é€‰äººç®¡ç† - iOSé£æ ¼</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='ios_hr_style.css') }}">
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
    <style>
        .ios-candidates-hero { background: linear-gradient(135deg, var(--ios-bg-primary) 0%, var(--ios-bg-secondary) 100%); }
        .ios-filters-section { background: var(--ios-bg-secondary); }
        .ios-candidates-list { background: var(--ios-bg-tertiary); }
        
        .ios-candidate-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border-radius: var(--ios-radius-large);
            padding: var(--ios-spacing-xl);
            margin-bottom: var(--ios-spacing-lg);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: var(--ios-shadow-light);
            transition: all var(--ios-transition-medium);
        }
        
        .ios-candidate-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--ios-shadow-medium);
        }
        
        .ios-candidate-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--ios-spacing-lg);
        }
        
        .ios-candidate-name {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--ios-text-primary);
            margin-bottom: var(--ios-spacing-sm);
        }
        
        .ios-candidate-title {
            font-size: 1rem;
            color: var(--ios-text-secondary);
            margin-bottom: var(--ios-spacing-sm);
        }
        
        .ios-candidate-meta {
            display: flex;
            gap: var(--ios-spacing-md);
            flex-wrap: wrap;
        }
        
        .ios-candidate-meta-item {
            display: flex;
            align-items: center;
            gap: var(--ios-spacing-xs);
            font-size: 0.875rem;
            color: var(--ios-text-tertiary);
        }
        
        .ios-candidate-actions {
            display: flex;
            gap: var(--ios-spacing-sm);
            flex-shrink: 0;
        }
        
        .ios-candidate-status {
            padding: var(--ios-spacing-xs) var(--ios-spacing-sm);
            border-radius: var(--ios-radius-small);
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: var(--ios-spacing-md);
            display: inline-block;
        }
        
        .ios-candidate-status.pending {
            background: rgba(255, 149, 0, 0.1);
            color: var(--ios-orange);
        }
        
        .ios-candidate-status.approved {
            background: rgba(52, 199, 89, 0.1);
            color: var(--ios-green);
        }
        
        .ios-candidate-status.rejected {
            background: rgba(255, 59, 48, 0.1);
            color: var(--ios-red);
        }
        
        .ios-candidate-status.interview {
            background: rgba(0, 122, 255, 0.1);
            color: var(--ios-blue);
        }
        
        .ios-filter-group {
            display: flex;
            gap: var(--ios-spacing-md);
            flex-wrap: wrap;
            align-items: center;
        }
        
        .ios-filter-item {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }
        
        .ios-filter-label {
            font-size: 0.85rem;
            color: var(--ios-text-secondary);
            font-weight: 600;
            letter-spacing: .2px;
        }
        
        .ios-search-box {
            position: relative;
            max-width: 520px;
            flex: 1 1 320px;
        }
        
        .ios-search-box .ios-input {
            padding-left: 48px;
        }
        
        .ios-search-icon {
            position: absolute;
            left: var(--ios-spacing-md);
            top: 50%;
            transform: translateY(-50%);
            color: var(--ios-text-tertiary);
            font-size: 1.125rem;
        }

        /* ç»Ÿä¸€æ§ä»¶é«˜åº¦ä¸è¾¹æ¡†ï¼Œæ¥è¿‘è¡¨å•æœç´¢æ¡é£æ ¼ */
        .ios-input {
            height: 58px;
            border-radius: 16px;
            border: 1px solid var(--ios-border-secondary);
            background: var(--ios-bg-secondary);
            color: var(--ios-text-primary);
        }
        .ios-input:focus{
            outline: none;
            border-color: var(--ios-blue);
            box-shadow: 0 0 0 3px rgba(0,122,255,.12);
        }
        .ios-input::placeholder{ color: var(--ios-text-quaternary); }

        /* ç»Ÿä¸€ select çš„å¤–è§‚ã€å­—ä½“ä¸è¾¹æ¡†é¢œè‰² */
        select.ios-input{
            color: var(--ios-text-primary);
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%238E8E93' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 18px 18px;
            padding-right: 40px;
        }
        
        .ios-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--ios-spacing-lg);
            margin-bottom: var(--ios-spacing-xl);
        }
        
        .ios-stat-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            border-radius: var(--ios-radius-large);
            padding: var(--ios-spacing-lg);
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: var(--ios-shadow-light);
        }
        
        .ios-stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--ios-blue);
            margin-bottom: var(--ios-spacing-xs);
        }
        
        .ios-stat-label {
            font-size: 0.875rem;
            color: var(--ios-text-secondary);
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="ios-nav">
        <div class="ios-nav-container">
            <a href="{{ url_for('smartrecruit.hr.dashboard.hr_dashboard') }}" class="ios-nav-brand">
                <div class="ios-nav-brand-icon">
                    <i class="uil uil-briefcase"></i>
                </div>
                <span>æ™ºèƒ½æ‹›è˜ç³»ç»Ÿ-HR</span>
            </a>
            
            <ul class="ios-nav-menu">
                <li class="ios-nav-item">
                    <a href="{{ url_for('smartrecruit.hr.dashboard.hr_dashboard') }}" class="ios-nav-link">
                        <i class="ios-nav-icon uil uil-dashboard"></i>
                        <span class="ios-nav-text">ä»ªè¡¨æ¿</span>
                    </a>
                </li>
                <li class="ios-nav-item">
                    <a href="{{ url_for('smartrecruit.hr.recruitment.publish_recruitment') }}" class="ios-nav-link">
                        <i class="ios-nav-icon uil uil-briefcase"></i>
                        <span class="ios-nav-text">å‘å¸ƒèŒä½</span>
                    </a>
                </li>
                <li class="ios-nav-item">
                    <a href="{{ url_for('smartrecruit.hr.dashboard.candidates') }}" class="ios-nav-link active">
                        <i class="ios-nav-icon uil uil-users-alt"></i>
                        <span class="ios-nav-text">å€™é€‰äºº</span>
                    </a>
                </li>
                <li class="ios-nav-item">
                    <a href="{{ url_for('smartrecruit.hr.recruitment.my_jobs') }}" class="ios-nav-link">
                        <i class="ios-nav-icon uil uil-briefcase-alt"></i>
                        <span class="ios-nav-text">æˆ‘çš„èŒä½</span>
                    </a>
                </li>
                <li class="ios-nav-item">
                    <a href="{{ url_for('smartrecruit.hr.dashboard.interviews') }}" class="ios-nav-link">
                        <i class="ios-nav-icon uil uil-calendar-alt"></i>
                        <span class="ios-nav-text">é¢è¯•</span>
                    </a>
                </li>
                <li class="ios-nav-item">
                    <a href="{{ url_for('smartrecruit.hr.dashboard.reports') }}" class="ios-nav-link">
                        <i class="ios-nav-icon uil uil-chart-pie"></i>
                        <span class="ios-nav-text">æŠ¥è¡¨</span>
                    </a>
                </li>
                <li class="ios-nav-item">
                    <a href="{{ url_for('smartrecruit.hr.dashboard.insights') }}" class="ios-nav-link">
                        <i class="ios-nav-icon uil uil-lightbulb"></i>
                        <span class="ios-nav-text">AIæ´å¯Ÿ</span>
                    </a>
                </li>
            </ul>
            
            <div class="ios-nav-actions">
                <div class="ios-nav-search">
                    <i class="uil uil-search"></i>
                    <input type="text" placeholder="æœç´¢..." />
                </div>
                
                <div class="ios-nav-divider"></div>
                <button class="theme-toggle" id="iosThemeToggle" title="åˆ‡æ¢ä¸»é¢˜"></button>
                
                
                <button class="ios-nav-button" data-action="profile">
                    <i class="uil uil-user"></i>
                    <span>HR</span>
                </button>
            </div>
            
            <!-- ç§»åŠ¨ç«¯èœå•åˆ‡æ¢æŒ‰é’® -->
            <button class="ios-nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <div class="ios-parallax-bg"></div>
    
    <div class="ios-scroll-container">
        <!-- æ¬¢è¿Section -->
        <section class="ios-section ios-candidates-hero">
            <div class="ios-container">
                <h1 class="ios-title ios-fade-in">å€™é€‰äººç®¡ç†</h1>
                <p class="ios-subtitle ios-fade-in">é«˜æ•ˆç®¡ç†æ‰€æœ‰ç”³è¯·è€…ï¼Œæ‰¾åˆ°æœ€åˆé€‚çš„äººæ‰</p>
                
                <!-- åŠŸèƒ½å¼•å¯¼å¡ç‰‡ -->
                <div class="ios-feature-guide ios-fade-in-up">
                    <div class="ios-guide-header">
                        <i class="uil uil-users-alt"></i>
                        <h3>å€™é€‰äººç®¡ç†æŒ‡å—</h3>
                    </div>
                    <div class="ios-guide-content">
                        <p>åœ¨è¿™é‡Œæ‚¨å¯ä»¥é«˜æ•ˆåœ°ç®¡ç†æ‰€æœ‰èŒä½ç”³è¯·è€…ï¼š</p>
                        <ul>
                            <li>ğŸ” <strong>ç­›é€‰å€™é€‰äºº</strong> - ä½¿ç”¨å¤šç§ç­›é€‰æ¡ä»¶å¿«é€Ÿæ‰¾åˆ°åˆé€‚çš„äººæ‰</li>
                            <li>ğŸ“„ <strong>æŸ¥çœ‹ç®€å†</strong> - è¯¦ç»†æŸ¥çœ‹å€™é€‰äººçš„æŠ€èƒ½ã€ç»éªŒå’ŒèƒŒæ™¯</li>
                            <li>â­ <strong>è¯„ä¼°æ‰“åˆ†</strong> - å¯¹å€™é€‰äººè¿›è¡Œè¯„åˆ†å’Œå¤‡æ³¨</li>
                            <li>ğŸ—“ï¸ <strong>å®‰æ’é¢è¯•</strong> - ä¸ºä¼˜ç§€å€™é€‰äººå®‰æ’é¢è¯•æ—¶é—´</li>
                            <li>ğŸ“Š <strong>çŠ¶æ€è·Ÿè¸ª</strong> - å®æ—¶è·Ÿè¸ªå€™é€‰äººçš„å¤„ç†è¿›åº¦</li>
                        </ul>
                    </div>
                </div>
                
                <div class="ios-hero-actions ios-fade-in-up">
                    <a href="{{ url_for('smartrecruit.hr.dashboard.interviews') }}" class="ios-button large">
                        <i class="uil uil-calendar-alt"></i>
                        å®‰æ’é¢è¯•
                    </a>
                    <a href="{{ url_for('smartrecruit.hr.dashboard.reports') }}" class="ios-button large secondary">
                        <i class="uil uil-chart-line"></i>
                        æŸ¥çœ‹åˆ†æ
                    </a>
                </div>
            </div>
        </section>

        <!-- ç»Ÿè®¡æ¦‚è§ˆSection -->
        <section class="ios-section ios-filters-section">
            <div class="ios-container">
                <h2 class="ios-title ios-fade-in">ç”³è¯·æ¦‚è§ˆ</h2>
                <p class="ios-subtitle ios-fade-in">å®æ—¶äº†è§£ç”³è¯·æƒ…å†µå’Œå€™é€‰äººçŠ¶æ€åˆ†å¸ƒ</p>
                
                <div class="ios-stats-grid">
                    <div class="ios-stat-card ios-fade-in-up">
                        <div class="ios-stat-number">{{ total_applications|default(0) }}</div>
                        <div class="ios-stat-label">æ€»ç”³è¯·æ•°</div>
                    </div>
                    <div class="ios-stat-card ios-fade-in-up">
                        <div class="ios-stat-number">{{ pending_applications|default(0) }}</div>
                        <div class="ios-stat-label">å¾…å¤„ç†</div>
                    </div>
                    <div class="ios-stat-card ios-fade-in-up">
                        <div class="ios-stat-number">{{ interview_applications|default(0) }}</div>
                        <div class="ios-stat-label">é¢è¯•ä¸­</div>
                    </div>
                    <div class="ios-stat-card ios-fade-in-up">
                        <div class="ios-stat-number">{{ approved_applications|default(0) }}</div>
                        <div class="ios-stat-label">å·²é€šè¿‡</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ç­›é€‰å’Œæœç´¢Section -->
        <section class="ios-section ios-filters-section">
            <div class="ios-container">
                <h2 class="ios-title ios-fade-in">ç­›é€‰ä¸æœç´¢</h2>
                <p class="ios-subtitle ios-fade-in">å¿«é€Ÿæ‰¾åˆ°ç¬¦åˆè¦æ±‚çš„å€™é€‰äºº</p>
                
                <div class="ios-card ios-fade-in-up">
                    <div class="ios-filter-group">
                        <div class="ios-search-box">
                            <i class="ios-search-icon uil uil-search"></i>
                            <input type="text" class="ios-input" placeholder="æœç´¢å€™é€‰äººå§“åã€æŠ€èƒ½æˆ–èŒä½..." id="searchInput">
                        </div>
                        
                        <div class="ios-filter-item">
                            <label class="ios-filter-label">çŠ¶æ€ç­›é€‰</label>
                            <select class="ios-input" id="statusFilter" style="min-width: 170px;">
                                <option value="">å…¨éƒ¨çŠ¶æ€</option>
                                <option value="pending">å¾…å¤„ç†</option>
                                <option value="interview">é¢è¯•ä¸­</option>
                                <option value="approved">å·²é€šè¿‡</option>
                                <option value="rejected">å·²æ‹’ç»</option>
                            </select>
                        </div>
                        
                        <div class="ios-filter-item">
                            <label class="ios-filter-label">èŒä½ç­›é€‰</label>
                            <select class="ios-input" id="jobFilter" style="min-width: 210px;">
                                <option value="">å…¨éƒ¨èŒä½</option>
                                {% for job in available_jobs %}
                                <option value="{{ job.id }}">{{ job.title }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        
                        <div class="ios-filter-item">
                            <label class="ios-filter-label">æ’åºæ–¹å¼</label>
                            <select class="ios-input" id="sortFilter" style="min-width: 170px;">
                                <option value="date_desc">ç”³è¯·æ—¶é—´ â†“</option>
                                <option value="date_asc">ç”³è¯·æ—¶é—´ â†‘</option>
                                <option value="name_asc">å§“å A-Z</option>
                                <option value="name_desc">å§“å Z-A</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- å€™é€‰äººåˆ—è¡¨Section -->
        <section class="ios-section ios-candidates-list">
            <div class="ios-container">
                <h2 class="ios-title ios-fade-in">å€™é€‰äººåˆ—è¡¨</h2>
                <p class="ios-subtitle ios-fade-in">æŸ¥çœ‹å’Œç®¡ç†æ‰€æœ‰ç”³è¯·è€…ä¿¡æ¯</p>
                
                {% if candidates %}
                    {% for candidate in candidates %}
                    <div class="ios-candidate-card ios-fade-in-up">
                        <div class="ios-candidate-status {{ candidate.status }}">
                            {% if candidate.status == 'pending' %}
                                å¾…å¤„ç†
                            {% elif candidate.status == 'interview' %}
                                é¢è¯•ä¸­
                            {% elif candidate.status == 'approved' %}
                                å·²é€šè¿‡
                            {% elif candidate.status == 'rejected' %}
                                å·²æ‹’ç»
                            {% else %}
                                {{ candidate.status }}
                            {% endif %}
                        </div>
                        
                        <div class="ios-candidate-header">
                            <div class="ios-candidate-info">
                                <div class="ios-candidate-name">{{ candidate.name }}</div>
                                <div class="ios-candidate-title">{{ candidate.job_title }}</div>
                                <div class="ios-candidate-meta">
                                    <div class="ios-candidate-meta-item">
                                        <i class="uil uil-envelope"></i>
                                        {{ candidate.email }}
                                    </div>
                                    <div class="ios-candidate-meta-item">
                                        <i class="uil uil-phone"></i>
                                        {{ candidate.phone }}
                                    </div>
                                    <div class="ios-candidate-meta-item">
                                        <i class="uil uil-calendar-alt"></i>
                                        ç”³è¯·äº {{ candidate.application_date }}
                                    </div>
                                </div>
                            </div>
                            
                            <div class="ios-candidate-actions">
                                <a href="{{ url_for('smartrecruit.hr.dashboard.view_candidate', candidate_id=candidate.id) }}" class="ios-button secondary">
                                    <i class="uil uil-eye"></i>
                                    æŸ¥çœ‹è¯¦æƒ…
                                </a>
                                {% if candidate.status == 'pending' %}
                                <a href="{{ url_for('smartrecruit.hr.dashboard.approve_candidate', candidate_id=candidate.id) }}" class="ios-button">
                                    <i class="uil uil-check"></i>
                                    é€šè¿‡
                                </a>
                                <a href="{{ url_for('smartrecruit.hr.dashboard.reject_candidate', candidate_id=candidate.id) }}" class="ios-button secondary">
                                    <i class="uil uil-times"></i>
                                    æ‹’ç»
                                </a>
                                {% elif candidate.status == 'approved' %}
                                <a href="{{ url_for('smartrecruit.hr.dashboard.schedule_interview', candidate_id=candidate.id) }}" class="ios-button">
                                    <i class="uil uil-calendar-alt"></i>
                                    å®‰æ’é¢è¯•
                                </a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                {% else %}
                    <div class="ios-card ios-fade-in-up">
                        <div style="text-align: center; padding: var(--ios-spacing-xxl); color: var(--ios-text-tertiary);">
                            <i class="uil uil-users-alt" style="font-size: 4rem; margin-bottom: var(--ios-spacing-lg); opacity: 0.5;"></i>
                            <h3 style="font-size: 1.5rem; margin-bottom: var(--ios-spacing-md); color: var(--ios-text-secondary);">æš‚æ— å€™é€‰äºº</h3>
                            <p>ç›®å‰è¿˜æ²¡æœ‰å€™é€‰äººç”³è¯·ï¼Œæˆ–è€…ç­›é€‰æ¡ä»¶è¿‡äºä¸¥æ ¼</p>
                            <a href="{{ url_for('smartrecruit.hr.recruitment.publish_recruitment') }}" class="ios-button large" style="margin-top: var(--ios-spacing-lg);">
                                <i class="uil uil-plus"></i>
                                å‘å¸ƒèŒä½å¸å¼•äººæ‰
                            </a>
                        </div>
                    </div>
                {% endif %}
            </div>
        </section>
    </div>

    <script src="{{ url_for('static', filename='ios_hr_script.js') }}"></script>
    <script>
      (function(){
        var btn = document.getElementById('iosThemeToggle');
        if(!btn) return;
        function apply(theme){
          document.body.classList.toggle('dark', theme==='dark');
          btn.classList.toggle('active', theme==='dark');
        }
        var saved = localStorage.getItem('theme');
        if(!saved && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches){ saved='dark'; }
        apply(saved||'light');
        btn.addEventListener('click', function(){
          var next = document.body.classList.contains('dark') ? 'light' : 'dark';
          localStorage.setItem('theme', next);
          apply(next);
        });
      })();
    </script>
</body>
</html>
